import"./style.a87c9e06.js";import{R as d,j as x,a as s,c as m,r as e}from"./jsx-runtime.55c6f37b.js";const R=({question:t,setVote:l})=>{d.useState("");const[c,i]=d.useState(!1),[f,u]=d.useState(null),n=(o,r)=>{c||(i(!0),u(o),l(t.id,r))};return x("div",{className:"quiz-container",children:[s("div",{className:"question-box",children:s("h2",{children:t.question})}),s("div",{className:"options-container",children:t.answers.map((o,r)=>s("div",{style:{backgroundColor:c&&o.text===f.text?"blue":"initial"},className:"option",onClick:()=>n(o,r),children:o.text},r))})]})},I=()=>{const[t,l]=e.exports.useState([]),c=e.exports.useRef([]);e.exports.useEffect(()=>{c.current=t},[t]);const[i,f]=e.exports.useState(0),u=e.exports.useRef(0);e.exports.useEffect(()=>{u.current=i},[i]);const[n,o]=e.exports.useState(t[0]),r=e.exports.useRef(t[0]);return e.exports.useEffect(()=>{r.current=n},[n]),e.exports.useEffect(()=>{(async()=>{await miro.board.events.on("CURRENT_QUESTION",a=>{console.log("QUESTION_INFO",a),o(a)}),await miro.board.events.broadcast("CURRENT_QUESTION?",{})})()},[]),s("div",{className:"grid wrapper",children:s("div",{className:"cs1 ce12",children:n&&s(R,{question:n,setVote:async(p,a)=>{await miro.board.events.broadcast("VOTE",{questionId:p,answerIndex:a})}},n.id)})})},N=document.getElementById("root"),Q=m(N);Q.render(s(I,{}));
